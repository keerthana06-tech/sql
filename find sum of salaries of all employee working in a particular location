CREATE OR REPLACE PROCEDURE sum_salary_by_location (
    p_location IN VARCHAR2,
    p_total_salary OUT NUMBER
) AS
BEGIN
    -- Initialize the total salary to zero
    p_total_salary := 0;

    -- Calculate the sum of salaries based on the provided location
    select sum(e.salary) into p_total_salary from employee e, Department d where e.DeptId=d.DeptId and d.DeptLoc=p_location;

    -- If no employees are found in the given location, p_total_salary remains zero
    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            p_total_salary := 0;
        WHEN OTHERS THEN
            RAISE; -- Raise any other unexpected errors
END sum_salary_by_location;
/

DECLARE
    total_salary NUMBER;
    --loc VARCHAR(20):='&DeptLoc';
BEGIN
    sum_salary_by_location(loc, total_salary);
    DBMS_OUTPUT.PUT_LINE('Total Salary for location is: ' || total_salary);
END;
/
